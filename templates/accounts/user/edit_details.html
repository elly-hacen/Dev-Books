{% extends "accounts/sub_base.html" %}
{% block title %}Edit Profile{% endblock %}
{% block sub_content %}
{% load widget_tweaks %}
<style>
  button {
  color: white !important;
}

</style>

<div class="max-w-xl mx-auto mt-10 px-4 sm:px-6 lg:px-8">
  {% if user_form.is_valid and profile_form.is_valid %}
    <div class="bg-green-100 border border-green-400 text-green-800 px-4 py-3 rounded mb-6" role="alert">
      <strong>Success!</strong> Your details have been updated.
    </div>
    <p class="text-center text-sm">
      <a href="{% url 'users:accounts-settings' %}" class="text-purple-600 hover:underline">‚Üê Back to Account Settings</a>
    </p>
  {% else %}
    <h2 class="text-xl font-semibold text-gray-800 mb-2">Edit Your Profile</h2>
    <p class="text-sm text-gray-600 mb-6">You can update your username and email below.</p>
  {% endif %}

  {% if form.errors %}
    <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6" role="alert">
      <strong>Error:</strong> Please check the form and try again.
    </div>
  {% endif %}

  <form method="post" enctype="multipart/form-data" class="space-y-6">
    {% csrf_token %}

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">{{ user_form.email.label }}</label>
      {{ user_form.email|add_class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-gray-800" }}
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">{{ user_form.username.label }}</label>
      {{ user_form.username|add_class:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 bg-white text-gray-800" }}
    </div>

    <button type="submit"
      class="w-full flex justify-center rounded-md bg-purple-600 py-2 px-4 text-white hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500">
      Save Changes
    </button>
  </form>

  <hr class="my-6 border-gray-300">
</div>

{% endblock %}
